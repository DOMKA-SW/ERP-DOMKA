<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - DOMKA ERP</title>
    <link rel="stylesheet" href="/styles/global.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="../../assets/logo.png" type="image/png">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img src="../../assets/logo.png" alt="DOMKA ERP Logo" class="sidebar-logo">
                <h2>DOMKA ERP</h2>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h3>Principal</h3>
                    <ul>
                        <li class="nav-item active">
                            <a href="#" data-module="dashboard">
                                <span class="nav-icon">📊</span>
                                <span class="nav-text">Dashboard</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>Gestión</h3>
                    <ul>
                        <li class="nav-item">
                            <a href="#" data-module="clientes">
                                <span class="nav-icon">👥</span>
                                <span class="nav-text">Clientes</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" data-module="cotizaciones">
                                <span class="nav-icon">📋</span>
                                <span class="nav-text">Cotizaciones</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" data-module="inventario">
                                <span class="nav-icon">📦</span>
                                <span class="nav-text">Inventario</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>Finanzas</h3>
                    <ul>
                        <li class="nav-item">
                            <a href="#" data-module="contabilidad">
                                <span class="nav-icon">📒</span>
                                <span class="nav-text">Contabilidad</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" data-module="nomina">
                                <span class="nav-icon">💰</span>
                                <span class="nav-text">Nómina</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" data-module="pagos">
                                <span class="nav-icon">💳</span>
                                <span class="nav-text">Pagos</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>Herramientas</h3>
                    <ul>
                        <li class="nav-item">
                            <a href="#" data-module="crm">
                                <span class="nav-icon">🤝</span>
                                <span class="nav-text">CRM</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" data-module="ai">
                                <span class="nav-icon">🤖</span>
                                <span class="nav-text">Asistente AI</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <button id="logoutBtn" class="logout-btn">
                    <span class="nav-icon">🚪</span>
                    <span class="nav-text">Cerrar Sesión</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="content-header">
                <div class="header-left">
                    <button id="sidebarToggle" class="sidebar-toggle">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <h1>Dashboard</h1>
                </div>
                
                <div class="header-right">
                    <div class="user-menu">
                        <div class="user-info">
                            <span class="user-name" id="userName">Usuario</span>
                            <span class="user-role" id="userRole">Rol</span>
                        </div>
                        <div class="user-avatar" id="userAvatar">
                            <span>U</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <!-- Welcome Banner -->
                <div class="welcome-banner">
                    <div class="welcome-text">
                        <h2 id="welcomeTitle">Bienvenido de vuelta</h2>
                        <p id="welcomeMessage">Aquí tienes un resumen de tu empresa</p>
                    </div>
                    <div class="welcome-actions">
                        <button class="btn-primary" id="quickActionBtn">
                            <span>+</span> Crear cotización rápida
                        </button>
                    </div>
                </div>

                <!-- Metrics Grid -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon clients">👥</div>
                        <div class="metric-info">
                            <h3 id="clientsCount">0</h3>
                            <p>Clientes</p>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon quotes">📋</div>
                        <div class="metric-info">
                            <h3 id="quotesCount">0</h3>
                            <p>Cotizaciones</p>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon inventory">📦</div>
                        <div class="metric-info">
                            <h3 id="inventoryItems">0</h3>
                            <p>Productos</p>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon revenue">💰</div>
                        <div class="metric-info">
                            <h3 id="revenueAmount">$0</h3>
                            <p>Ingresos mensuales</p>
                        </div>
                    </div>
                </div>

                <!-- Charts and Recent Activity -->
                <div class="content-grid">
                    <!-- Revenue Chart -->
                    <div class="content-card">
                        <div class="card-header">
                            <h3>Ingresos Mensuales</h3>
                            <select id="revenuePeriod">
                                <option value="month">Este mes</option>
                                <option value="quarter">Este trimestre</option>
                                <option value="year">Este año</option>
                            </select>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Quotes -->
                    <div class="content-card">
                        <div class="card-header">
                            <h3>Cotizaciones Recientes</h3>
                            <a href="#" data-module="cotizaciones" class="view-all">Ver todas</a>
                        </div>
                        <div class="card-body">
                            <div class="recent-list" id="recentQuotes">
                                <div class="empty-state">
                                    <p>No hay cotizaciones recientes</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tasks & Reminders -->
                    <div class="content-card">
                        <div class="card-header">
                            <h3>Tareas Pendientes</h3>
                            <button class="btn-icon" id="addTaskBtn">+</button>
                        </div>
                        <div class="card-body">
                            <div class="task-list" id="taskList">
                                <div class="empty-state">
                                    <p>No hay tareas pendientes</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Activity Feed -->
                    <div class="content-card">
                        <div class="card-header">
                            <h3>Actividad Reciente</h3>
                        </div>
                        <div class="card-body">
                            <div class="activity-feed" id="activityFeed">
                                <div class="empty-state">
                                    <p>No hay actividad reciente</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Quick Quote Modal -->
    <div id="quickQuoteModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Crear Cotización Rápida</h3>
                <button class="modal-close" id="closeQuoteModal">×</button>
            </div>
            <div class="modal-body">
                <form id="quickQuoteForm">
                    <div class="form-group">
                        <label for="quoteClient">Cliente</label>
                        <select id="quoteClient" required>
                            <option value="">Seleccionar cliente</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="quoteDescription">Descripción</label>
                        <input type="text" id="quoteDescription" placeholder="Descripción del trabajo" required>
                    </div>
                    <div class="form-group">
                        <label for="quoteAmount">Monto</label>
                        <input type="number" id="quoteAmount" placeholder="0.00" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="quoteValidUntil">Válida hasta</label>
                        <input type="date" id="quoteValidUntil" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" id="cancelQuote">Cancelar</button>
                <button type="submit" form="quickQuoteForm" class="btn-primary">Crear Cotización</button>
            </div>
        </div>
    </div>

    <!-- Add Task Modal -->
    <div id="addTaskModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Agregar Tarea</h3>
                <button class="modal-close" id="closeTaskModal">×</button>
            </div>
            <div class="modal-body">
                <form id="addTaskForm">
                    <div class="form-group">
                        <label for="taskTitle">Título</label>
                        <input type="text" id="taskTitle" placeholder="Título de la tarea" required>
                    </div>
                    <div class="form-group">
                        <label for="taskDueDate">Fecha límite</label>
                        <input type="date" id="taskDueDate" required>
                    </div>
                    <div class="form-group">
                        <label for="taskPriority">Prioridad</label>
                        <select id="taskPriority" required>
                            <option value="low">Baja</option>
                            <option value="medium" selected>Media</option>
                            <option value="high">Alta</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" id="cancelTask">Cancelar</button>
                <button type="submit" form="addTaskForm" class="btn-primary">Agregar Tarea</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>

